--
-- PostgreSQL database dump
--

-- Dumped from database version 13.12
-- Dumped by pg_dump version 13.12

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

DROP DATABASE IF EXISTS library;
--
-- Name: library; Type: DATABASE; Schema: -; Owner: postgres
--

CREATE DATABASE library WITH ENCODING = 'UTF8' LOCALE = 'Russian_Russia.1251';


ALTER DATABASE library OWNER TO postgres;

\connect library

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: lab3; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA lab3;


ALTER SCHEMA lab3 OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: authors; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.authors (
    author_id integer NOT NULL,
    name character varying(50) NOT NULL,
    CONSTRAINT check_name CHECK (((name)::text ~ '[A-Za-zА-Яа-я -]+'::text))
);


ALTER TABLE lab3.authors OWNER TO postgres;

--
-- Name: authors_author_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

CREATE SEQUENCE lab3.authors_author_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE lab3.authors_author_id_seq OWNER TO postgres;

--
-- Name: authors_author_id_seq; Type: SEQUENCE OWNED BY; Schema: lab3; Owner: postgres
--

ALTER SEQUENCE lab3.authors_author_id_seq OWNED BY lab3.authors.author_id;


--
-- Name: authorships; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.authorships (
    authorship_id integer NOT NULL,
    author integer NOT NULL,
    book integer NOT NULL,
    order_num integer,
    CONSTRAINT check_order CHECK ((order_num > 0))
);


ALTER TABLE lab3.authorships OWNER TO postgres;

--
-- Name: authorship_authorship_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.authorships ALTER COLUMN authorship_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.authorship_authorship_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: book_lending; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.book_lending (
    lending_id integer NOT NULL,
    reader_card integer NOT NULL,
    book integer NOT NULL,
    lend_date date NOT NULL,
    planned_return_date date NOT NULL,
    real_return_date date,
    return_info character varying(100),
    employee integer NOT NULL,
    fine integer DEFAULT 0 NOT NULL,
    CONSTRAINT check_fine CHECK ((fine >= 0)),
    CONSTRAINT check_lend_date CHECK ((lend_date <= CURRENT_DATE)),
    CONSTRAINT check_planeed_return_date CHECK ((planned_return_date >= lend_date)),
    CONSTRAINT check_real_return_date CHECK ((real_return_date >= lend_date)),
    CONSTRAINT check_return_info CHECK (((return_info)::text <> ''::text))
);


ALTER TABLE lab3.book_lending OWNER TO postgres;

--
-- Name: book_lending_lending_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.book_lending ALTER COLUMN lending_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.book_lending_lending_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: book_original_languages; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.book_original_languages (
    lang_code character(2) NOT NULL,
    name character varying(20) NOT NULL,
    CONSTRAINT check_name CHECK (((name)::text ~ '^[А-ЯЁа-яё -]+$'::text))
);


ALTER TABLE lab3.book_original_languages OWNER TO postgres;

--
-- Name: COLUMN book_original_languages.lang_code; Type: COMMENT; Schema: lab3; Owner: postgres
--

COMMENT ON COLUMN lab3.book_original_languages.lang_code IS 'ISO 639-1';


--
-- Name: books; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.books (
    book_id integer NOT NULL,
    title character varying(100) NOT NULL,
    year numeric(4,0),
    bbk character varying(50),
    udc character varying(50),
    original_language character(2),
    CONSTRAINT check_bbk CHECK (((bbk)::text <> ''::text)),
    CONSTRAINT check_title CHECK (((title)::text <> ''::text)),
    CONSTRAINT check_udc CHECK (((udc)::text <> ''::text)),
    CONSTRAINT check_year CHECK (((year > (0)::numeric) AND ((year)::double precision <= date_part('year'::text, CURRENT_DATE))))
);


ALTER TABLE lab3.books OWNER TO postgres;

--
-- Name: COLUMN books.bbk; Type: COMMENT; Schema: lab3; Owner: postgres
--

COMMENT ON COLUMN lab3.books.bbk IS 'Библиотечно-библиографическая классификация (ББК) — национальная классификационная система России.';


--
-- Name: COLUMN books.udc; Type: COMMENT; Schema: lab3; Owner: postgres
--

COMMENT ON COLUMN lab3.books.udc IS 'Universal Decimal Classification';


--
-- Name: books_book_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.books ALTER COLUMN book_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.books_book_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: copy_storage; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.copy_storage (
    copy_storage_id integer NOT NULL,
    storage_id integer NOT NULL,
    inventory_number integer NOT NULL,
    from_date date NOT NULL,
    to_date date
);


ALTER TABLE lab3.copy_storage OWNER TO postgres;

--
-- Name: copy_storage_copy_storage_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.copy_storage ALTER COLUMN copy_storage_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.copy_storage_copy_storage_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: employees; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.employees (
    employee_id integer NOT NULL,
    name character varying(50) NOT NULL,
    CONSTRAINT check_name CHECK (((name)::text ~ '^[a-zA-Zа-яёА-ЯЁ -]+$'::text))
);


ALTER TABLE lab3.employees OWNER TO postgres;

--
-- Name: employee_employee_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.employees ALTER COLUMN employee_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.employee_employee_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: reader_cards; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.reader_cards (
    card_id integer NOT NULL,
    passport_info character varying(200) NOT NULL,
    reader_name character varying(50) NOT NULL,
    phone_number character varying(20),
    address character varying(100) NOT NULL,
    email character varying(50),
    CONSTRAINT check_address CHECK (((address)::text <> ''::text)),
    CONSTRAINT check_email CHECK (((email)::text ~ '(?:[a-z0-9!#$%&''*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])'::text)),
    CONSTRAINT check_name CHECK (((reader_name)::text ~ '^[A-Za-zА-ЯЁа-яё -]+$'::text)),
    CONSTRAINT check_passport CHECK (((passport_info)::text <> ''::text)),
    CONSTRAINT check_phone CHECK (((phone_number)::text ~ '^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$'::text))
);


ALTER TABLE lab3.reader_cards OWNER TO postgres;

--
-- Name: library_cards_card_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.reader_cards ALTER COLUMN card_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.library_cards_card_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: publication_copies; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.publication_copies (
    inventory_number integer NOT NULL,
    receipt_act integer NOT NULL,
    isbn character varying(17) NOT NULL,
    write_off_act integer
);


ALTER TABLE lab3.publication_copies OWNER TO postgres;

--
-- Name: publication_copies_inventory_number_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.publication_copies ALTER COLUMN inventory_number ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.publication_copies_inventory_number_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: publication_participants; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.publication_participants (
    participant_id integer NOT NULL,
    name character varying(30) NOT NULL,
    CONSTRAINT check_name CHECK (((name)::text ~ '^[A-Za-zА-ЯЁа-яё ,.-]+$'::text))
);


ALTER TABLE lab3.publication_participants OWNER TO postgres;

--
-- Name: publication_participant_participant_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.publication_participants ALTER COLUMN participant_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.publication_participant_participant_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: publication_participations; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.publication_participations (
    participation_id integer NOT NULL,
    participant_id integer NOT NULL,
    isbn character varying(17) NOT NULL,
    participant_role character varying(50),
    CONSTRAINT check_role CHECK (((participant_role)::text ~ '^[А-ЯЁа-яё -]+$'::text))
);


ALTER TABLE lab3.publication_participations OWNER TO postgres;

--
-- Name: publication_participation_participation_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.publication_participations ALTER COLUMN participation_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.publication_participation_participation_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: publication_series; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.publication_series (
    series_id integer NOT NULL,
    name character varying(100) NOT NULL,
    CONSTRAINT check_name CHECK (((name)::text <> ''::text))
);


ALTER TABLE lab3.publication_series OWNER TO postgres;

--
-- Name: publication_series_series_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.publication_series ALTER COLUMN series_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.publication_series_series_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: publications; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.publications (
    isbn character varying(17) NOT NULL,
    number_of_pages integer,
    republication_info character varying(50),
    year_of_publication numeric(4,0),
    book integer NOT NULL,
    series integer,
    publisher integer,
    CONSTRAINT check_isbn CHECK (((isbn)::text ~ '^(?=(?:\D*\d){10}(?:(?:\D*\d){3})?$)[\d-]+$'::text)),
    CONSTRAINT check_name CHECK (((republication_info)::text <> ''::text)),
    CONSTRAINT check_pages CHECK ((number_of_pages > 0)),
    CONSTRAINT check_year CHECK (((year_of_publication > (0)::numeric) AND ((year_of_publication)::double precision <= date_part('year'::text, CURRENT_DATE))))
);


ALTER TABLE lab3.publications OWNER TO postgres;

--
-- Name: publishers; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.publishers (
    publisher_id integer NOT NULL,
    name character varying(50) NOT NULL,
    place_of_publication character varying(50) NOT NULL,
    CONSTRAINT check_name CHECK (((name)::text ~ '^[a-zA-Zа-яёА-ЯЁ -]+$'::text)),
    CONSTRAINT check_place_of_publication CHECK (((place_of_publication)::text ~ '^[a-zA-Zа-яёА-ЯЁ -]+$'::text))
);


ALTER TABLE lab3.publishers OWNER TO postgres;

--
-- Name: publishers_publisher_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.publishers ALTER COLUMN publisher_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.publishers_publisher_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: receipt_acts; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.receipt_acts (
    receipt_act_id integer NOT NULL,
    source character varying(50) NOT NULL,
    act_date date NOT NULL,
    employee_id integer NOT NULL,
    act_name character varying(50) NOT NULL,
    waybill_date date NOT NULL,
    waybill_name character varying(50) NOT NULL,
    CONSTRAINT check_act_name CHECK (((act_name)::text <> ''::text)),
    CONSTRAINT check_date CHECK ((act_date <= CURRENT_DATE)),
    CONSTRAINT check_source CHECK (((source)::text <> ''::text)),
    CONSTRAINT check_waybill_date CHECK ((waybill_date <= CURRENT_DATE))
);


ALTER TABLE lab3.receipt_acts OWNER TO postgres;

--
-- Name: receipt_acts_receipt_code_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.receipt_acts ALTER COLUMN receipt_act_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.receipt_acts_receipt_code_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: receipts_content; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.receipts_content (
    content_id integer NOT NULL,
    isbn character varying(17) NOT NULL,
    num_of_copies integer NOT NULL,
    receipt_act integer NOT NULL,
    copy_price integer NOT NULL,
    CONSTRAINT check_price CHECK ((copy_price >= 0))
);


ALTER TABLE lab3.receipts_content OWNER TO postgres;

--
-- Name: receipts_content_content_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.receipts_content ALTER COLUMN content_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.receipts_content_content_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: replacement_acts; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.replacement_acts (
    date date NOT NULL,
    received_book integer NOT NULL,
    lost_book integer,
    employee integer NOT NULL,
    reader_card integer NOT NULL,
    act_id integer NOT NULL,
    act_name character varying(50) NOT NULL,
    CONSTRAINT check_date CHECK ((date <= CURRENT_DATE))
);


ALTER TABLE lab3.replacement_acts OWNER TO postgres;

--
-- Name: replacement_acts_act_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.replacement_acts ALTER COLUMN act_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.replacement_acts_act_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: storage_location; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.storage_location (
    storage_id integer NOT NULL,
    room character varying(20) NOT NULL,
    shelving character varying(20),
    shelf character varying(20) NOT NULL,
    CONSTRAINT check_room CHECK (((room)::text <> ''::text)),
    CONSTRAINT check_shelf CHECK (((shelf)::text <> ''::text)),
    CONSTRAINT check_shelving CHECK (((shelving)::text <> ''::text))
);


ALTER TABLE lab3.storage_location OWNER TO postgres;

--
-- Name: storage_location_storage_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.storage_location ALTER COLUMN storage_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.storage_location_storage_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: write_off_acts; Type: TABLE; Schema: lab3; Owner: postgres
--

CREATE TABLE lab3.write_off_acts (
    date date NOT NULL,
    write_off_reason character varying(50) NOT NULL,
    direction_of_disposal character varying(100) NOT NULL,
    revaluation_ratio double precision NOT NULL,
    employee_id integer NOT NULL,
    act_id integer NOT NULL,
    CONSTRAINT check_date CHECK ((date <= CURRENT_DATE)),
    CONSTRAINT check_direction CHECK (((direction_of_disposal)::text <> ''::text)),
    CONSTRAINT check_ratio CHECK ((revaluation_ratio > (0)::double precision)),
    CONSTRAINT check_reason CHECK (((write_off_reason)::text <> ''::text))
);


ALTER TABLE lab3.write_off_acts OWNER TO postgres;

--
-- Name: write_off_acts_act_id_seq; Type: SEQUENCE; Schema: lab3; Owner: postgres
--

ALTER TABLE lab3.write_off_acts ALTER COLUMN act_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME lab3.write_off_acts_act_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: authors author_id; Type: DEFAULT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.authors ALTER COLUMN author_id SET DEFAULT nextval('lab3.authors_author_id_seq'::regclass);


--
-- Data for Name: authors; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.authors (author_id, name) FROM stdin;
1	Набоков, Владимир Владимирович
7	Манн, Генрих
8	Джордж Оруэлл
9	Джеймс Джойс
10	Герберт Джордж Уэллс
11	Гомер
12	Джейн Остин
13	Данте Алигьери
14	Джонатан Свифт
16	Фихтенгольц, Г. М.
18	Савельев, И. В.
19	Райнер Гримм
\.


--
-- Data for Name: authorships; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.authorships (authorship_id, author, book, order_num) FROM stdin;
3	7	3	\N
4	8	4	\N
5	9	5	\N
7	10	7	\N
8	11	8	\N
9	12	9	\N
10	13	10	\N
11	14	11	\N
13	16	13	\N
14	16	14	\N
16	18	16	\N
17	19	17	\N
18	19	18	\N
1	1	1	1
19	19	1	2
\.


--
-- Data for Name: book_lending; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.book_lending (lending_id, reader_card, book, lend_date, planned_return_date, real_return_date, return_info, employee, fine) FROM stdin;
14	26	130	2023-11-04	2023-12-04	\N	\N	3	0
15	25	137	2023-10-19	2023-11-19	\N	\N	2	0
22	28	153	2022-11-17	2022-12-17	\N	\N	6	0
12	20	111	2023-02-11	2023-03-11	2023-02-12	\N	3	0
13	18	147	2023-07-31	2023-08-31	2023-08-20	\N	3	0
19	17	159	2023-01-04	2023-02-04	2023-02-09	\N	6	100
7	24	84	2023-03-01	2023-04-01	2023-04-01	\N	5	0
2	22	104	2023-11-01	2023-12-01	2023-12-03	\N	6	40
8	21	118	2023-01-12	2023-02-12	2023-01-28	\N	5	0
9	27	73	2023-07-06	2023-08-06	2023-08-05	\N	5	0
18	25	165	2023-06-28	2023-07-28	2023-07-20	\N	5	0
11	19	101	2023-08-01	2023-09-01	2023-09-10	\N	6	100
20	16	124	2023-04-01	2023-05-01	2023-04-25	\N	6	0
10	28	81	2022-12-15	2023-01-15	2023-01-18	\N	3	30
16	18	115	2023-03-16	2023-04-16	2023-04-15	\N	3	0
21	27	171	2023-06-09	2023-07-09	2023-07-05	\N	6	0
17	26	151	2023-09-15	2023-10-15	2023-10-20	\N	4	60
24	24	124	2023-04-30	2023-05-30	2023-05-20	\N	6	0
25	20	112	2023-04-13	2023-05-13	2023-05-15	\N	6	30
26	20	113	2023-05-24	2023-07-24	2023-05-31	\N	6	0
\.


--
-- Data for Name: book_original_languages; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.book_original_languages (lang_code, name) FROM stdin;
ru	Русский
en	Английский
de	Немецкий
fr	Французский
el	Греческий
it	Итальянский
\.


--
-- Data for Name: books; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.books (book_id, title, year, bbk, udc, original_language) FROM stdin;
4	1984	1949	84.4	821.111-31	en
3	Зрелые годы короля Генриха IV	\N	84(4Гем) + 84(4Гем)6-44	\N	de
13	Основы математического анализа. Часть 1: Учебник для вузов	\N	22.12я73	517	ru
16	Курс общей физики. В 3 т. Том 1. Механика. Молекулярная физика	\N	22.3	\N	ru
1	Защита Лужина	1929	Р + 84(2)	821.161.1-31	ru
10	Божественная комедия	1321	84(4Ита)-5	821.131.1-1	it
7	Человек-невидимка	1952	84(4Вел)-44	\N	en
5	Улисс	1922	84(4Вел)-44	821.111.09	en
8	Илиада	\N	83.3(0)3	821.14'02	el
14	Основы математического анализа. Часть 2	\N	22.12я73	517	ru
17	C++20 в деталях	2020	32.372	004.42	en
11	Путешествия Гулливера	1726	84(4Вел)-44	821.111-31	en
9	Гордость и предубеждение	1813	84(4Вел)-44	821.111-31	en
18	Параллельное программирование на современном языке C++	2021	32.973.202	004.4	en
\.


--
-- Data for Name: copy_storage; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.copy_storage (copy_storage_id, storage_id, inventory_number, from_date, to_date) FROM stdin;
46	17	72	2022-11-01	\N
48	12	74	2022-11-02	\N
49	7	75	2022-10-05	\N
50	19	76	2022-10-07	\N
52	11	78	2022-11-01	\N
53	14	79	2022-11-02	\N
54	6	80	2022-11-02	\N
56	2	82	2022-10-07	\N
57	7	83	2022-10-20	\N
59	1	85	2022-11-02	\N
60	16	86	2022-11-02	\N
61	7	87	2022-10-05	\N
63	11	89	2022-10-20	\N
64	18	90	2022-11-01	\N
65	15	91	2022-11-02	\N
67	7	93	2022-10-05	\N
68	3	94	2022-10-07	\N
70	5	96	2022-11-01	\N
72	1	98	2022-11-02	\N
73	14	99	2022-10-05	\N
74	6	100	2022-10-07	\N
76	13	102	2022-11-01	\N
77	2	103	2022-11-02	\N
79	16	105	2022-10-05	\N
81	11	107	2022-10-20	\N
82	18	108	2022-11-01	\N
84	15	110	2022-11-02	\N
86	3	112	2022-10-07	\N
87	6	113	2022-10-20	\N
88	17	114	2022-11-01	\N
90	12	116	2022-11-02	\N
91	2	117	2022-10-05	\N
93	6	119	2022-10-20	\N
95	16	121	2022-11-02	\N
96	14	122	2022-11-02	\N
97	6	123	2022-10-05	\N
99	7	125	2022-10-20	\N
100	11	126	2022-11-01	\N
102	5	128	2022-11-02	\N
103	15	129	2022-10-05	\N
105	18	131	2022-10-20	\N
106	5	132	2022-11-01	\N
107	3	133	2022-11-02	\N
108	12	134	2022-11-02	\N
110	14	136	2022-10-07	\N
112	16	138	2022-11-01	\N
113	2	139	2022-11-02	\N
114	7	140	2022-11-02	\N
115	13	141	2022-10-05	\N
116	1	142	2022-10-07	\N
117	14	143	2022-10-20	\N
119	15	145	2022-11-02	\N
120	5	146	2022-11-02	\N
122	17	148	2022-10-07	\N
123	20	149	2022-10-20	\N
124	19	150	2022-11-01	\N
126	15	152	2022-11-02	\N
128	6	154	2022-10-07	\N
129	14	155	2022-10-20	\N
130	3	156	2022-11-01	\N
131	16	157	2022-11-02	\N
132	2	158	2022-11-02	\N
134	13	160	2022-10-07	\N
135	1	161	2022-10-20	\N
136	16	162	2022-11-01	\N
137	3	163	2022-11-02	\N
138	15	164	2022-11-02	\N
140	11	166	2022-10-07	\N
141	17	167	2022-10-20	\N
142	20	168	2022-11-01	\N
143	18	169	2022-11-02	\N
144	3	170	2022-11-02	\N
146	5	172	2022-10-07	\N
83	7	109	2022-11-02	2023-09-13
118	5	144	2022-11-01	\N
58	13	84	2022-11-01	2023-07-13
69	17	95	2022-10-20	2023-07-13
78	7	104	2022-11-02	2023-07-13
85	19	111	2022-10-05	2023-09-07
75	7	101	2022-10-20	2023-09-07
55	20	81	2022-10-05	2023-09-07
92	14	118	2022-10-07	2023-09-07
47	5	73	2022-11-02	2023-09-07
89	6	115	2022-11-02	2023-08-17
121	11	147	2022-10-05	2023-08-17
111	5	137	2022-10-20	2023-08-17
104	19	130	2022-10-07	2023-08-17
125	3	151	2022-11-02	2023-07-30
139	5	165	2022-10-05	2023-07-30
133	7	159	2022-10-05	2023-07-30
109	6	135	2022-10-05	2023-09-13
145	17	171	2022-10-05	2023-09-13
127	12	153	2022-10-05	2023-09-13
98	13	124	2022-10-07	2023-09-13
51	3	77	2022-10-20	2023-10-11
71	12	97	2022-11-02	2023-10-11
62	18	88	2022-10-07	2023-10-11
66	20	92	2022-11-02	2023-10-11
80	15	106	2022-10-07	2023-09-25
101	20	127	2022-11-02	2023-09-25
94	1	120	2022-11-01	2023-09-25
\.


--
-- Data for Name: employees; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.employees (employee_id, name) FROM stdin;
1	Рогов Григорий Артёмович
2	Лыткин Устин Геннадиевич
3	Прохоров Лука Игнатьевич
4	Мамонтов Тихон Романович
5	Кабанова Любовь Леонидовна
6	Стрелкова Янита Федосеевна
7	Куликова Любава Александровна
8	Турова Людмила Митрофановна
\.


--
-- Data for Name: publication_copies; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.publication_copies (inventory_number, receipt_act, isbn, write_off_act) FROM stdin;
72	4	978-5-17-065483-3	\N
74	4	978-5-17-065483-3	\N
75	4	978-5-17-065483-3	\N
76	4	978-5-17-065483-3	\N
78	4	978-5-17-080115-2	\N
79	4	978-5-17-080115-2	\N
80	4	978-5-17-080115-2	\N
82	4	978-5-17-080115-2	\N
83	4	978-5-17-080115-2	\N
85	4	978-5-17-137825-7	\N
86	4	978-5-17-137825-7	\N
87	4	978-5-17-137825-7	\N
89	4	978-5-17-090332-0	\N
90	4	978-5-17-090332-0	\N
91	5	978-5-38-904480-7	\N
93	5	978-5-38-904480-7	\N
94	5	978-5-38-904480-7	\N
96	5	978-5-38-912588-9	\N
98	5	978-5-38-903080-0	\N
99	5	978-5-38-903080-0	\N
100	5	978-5-04-116636-6	\N
102	5	978-5-04-116636-6	\N
103	5	978-5-04-116636-6	\N
105	5	978-5-04-116636-6	\N
107	5	978-5-17-158370-5	\N
108	7	978-5-507-45877-6	\N
110	7	978-5-507-45877-6	\N
112	7	978-5-507-45877-6	\N
113	7	978-5-8114-9256-5	\N
114	7	978-5-8114-9256-5	\N
116	7	978-5-8114-9256-5	\N
117	7	978-5-8114-9256-5	\N
119	7	978-5-8114-9890-1	\N
121	6	978-5-97060-956-9	\N
122	6	978-5-97060-956-9	\N
123	6	978-5-97060-956-9	\N
125	6	978-5-97060-956-9	\N
126	6	978-5-97060-957-6	\N
128	6	978-5-97060-957-6	\N
129	6	978-5-38-916728-5	\N
131	6	978-5-38-916728-5	\N
132	6	978-5-38-916728-5	\N
133	6	978-5-38-916728-5	\N
134	6	978-5-38-916728-5	\N
136	6	978-5-38-907889-5	\N
138	6	978-5-38-919361-1	\N
139	6	978-5-38-919361-1	\N
140	6	978-5-38-919361-1	\N
141	6	978-5-38-919361-1	\N
142	6	978-5-38-919219-5	\N
143	6	978-5-38-919219-5	\N
144	6	978-5-38-919219-5	\N
145	6	978-5-17-148844-4	\N
146	6	978-5-04-122320-5	\N
148	6	978-5-04-122320-5	\N
149	6	978-5-38-919109-9	\N
150	6	978-5-38-919109-9	\N
152	9	978-5-97060-956-9	\N
154	9	978-5-97060-956-9	\N
155	9	978-5-97060-956-9	\N
156	9	978-5-97060-956-9	\N
157	9	978-5-97060-957-6	\N
158	9	978-5-97060-957-6	\N
160	8	978-5-97060-957-6	\N
161	8	978-5-97060-957-6	\N
162	8	978-5-97060-957-6	\N
163	8	978-5-97060-957-6	\N
164	8	978-5-97060-957-6	\N
166	8	978-5-17-148844-4	\N
167	8	978-5-17-148844-4	\N
168	8	978-5-17-148844-4	\N
169	8	978-5-38-912588-9	\N
170	8	978-5-38-912588-9	\N
172	8	978-5-38-903080-0	\N
171	8	978-5-38-912588-9	5
165	8	978-5-17-148844-4	4
130	6	978-5-38-916728-5	3
109	7	978-5-507-45877-6	5
81	4	978-5-17-080115-2	2
118	7	978-5-8114-9890-1	2
153	9	978-5-97060-956-9	5
135	6	978-5-38-907889-5	5
106	5	978-5-04-116636-6	7
95	5	978-5-38-904480-7	1
88	4	978-5-17-137825-7	6
92	5	978-5-38-904480-7	6
124	6	978-5-97060-956-9	5
151	6	978-5-38-919109-9	4
101	5	978-5-04-116636-6	2
97	5	978-5-38-912588-9	6
115	7	978-5-8114-9256-5	3
147	6	978-5-04-122320-5	3
137	6	978-5-38-907889-5	3
159	9	978-5-97060-957-6	4
77	4	978-5-17-080115-2	6
120	7	978-5-8114-9890-1	7
111	7	978-5-507-45877-6	2
84	4	978-5-17-137825-7	1
127	6	978-5-97060-957-6	7
73	4	978-5-17-065483-3	2
104	5	978-5-04-116636-6	1
\.


--
-- Data for Name: publication_participants; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.publication_participants (participant_id, name) FROM stdin;
4	Касаткина, Н.
5	В. Голышев
6	Е. Ферез
7	А. Бондаренко
8	Д. Черногаев
9	И. Маршак
10	А. Ферез
11	В. А. Хинкис
12	С. С. Хоружий
13	Давид Вейс
14	Вадим Пожидаев
15	Валерия Гореликова
16	Анатолий Иткин
17	Николай Гнедич
18	Д. Мин
19	Наталья Ярусова
20	В. Воронина
21	П. Кончаловский
22	В. Яковенко
23	А. Франковский
24	С. Л. Шапиро
25	А. А. Олексенко
26	А. Ю. Романов
27	А. В. Боресков
28	В. Ю. Винник
\.


--
-- Data for Name: publication_participations; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.publication_participations (participation_id, participant_id, isbn, participant_role) FROM stdin;
8	6	978-5-17-080115-2	Серийное оформление
9	7	978-5-17-137825-7	Художественное оформление и макет
10	8	978-5-17-137825-7	Художественное оформление и макет
6	4	978-5-17-065483-3	Перевод
7	5	978-5-17-080115-2	Перевод
11	9	978-5-17-090332-0	Перевод
12	10	978-5-17-090332-0	Серийное оформление
13	6	978-5-17-090332-0	Серийное оформление
14	11	978-5-38-904480-7	Перевод
15	12	978-5-38-904480-7	Перевод
16	12	978-5-38-904480-7	Комментарии
17	13	978-5-38-912588-9	Перевод
18	14	978-5-38-912588-9	Серийное оформление
19	15	978-5-38-912588-9	Оформление обложки
20	16	978-5-38-912588-9	Иллюстрация на обложке
22	14	978-5-38-903080-0	Серийное оформление
23	17	978-5-38-903080-0	Перевод
24	15	978-5-38-903080-0	Оформление обложки
26	18	978-5-04-116636-6	Перевод
27	19	978-5-04-116636-6	Оформление серии
28	6	978-5-17-158370-5	Серийное оформление
29	10	978-5-17-158370-5	Серийное оформление
30	20	978-5-17-158370-5	Дизайн обложки
31	21	978-5-17-158370-5	Перевод
32	22	978-5-17-158370-5	Перевод
33	23	978-5-17-158370-5	Редактор
34	24	978-5-507-45877-6	Оформление обложки
35	25	978-5-507-45877-6	Оформление обложки
36	24	978-5-8114-9256-5	Оформление обложки
37	25	978-5-8114-9256-5	Оформление обложки
38	26	978-5-97060-956-9	Редактор
39	27	978-5-97060-956-9	Перевод
40	28	978-5-97060-957-6	Перевод
\.


--
-- Data for Name: publication_series; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.publication_series (series_id, name) FROM stdin;
1	Золотая классика
2	Эксклюзивная классика
3	Набоковский корпус
4	Большие книги
5	\nАзбука-классика
6	Всемирная литература
8	Русская литература. Большие книги
\.


--
-- Data for Name: publications; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.publications (isbn, number_of_pages, republication_info, year_of_publication, book, series, publisher) FROM stdin;
978-5-17-065483-3	800	\N	1978	3	1	1
978-5-17-080115-2	318	\N	2014	4	2	1
978-5-17-137825-7	288	\N	2023	1	3	1
978-5-17-090332-0	384	\N	2022	9	2	1
978-5-38-904480-7	928	\N	2013	5	4	2
978-5-38-912588-9	192	\N	2022	7	5	3
978-5-38-903080-0	576	\N	2019	8	5	3
978-5-04-116636-6	464	\N	2020	10	6	4
978-5-17-158370-5	384	\N	2023	11	2	1
978-5-507-45877-6	444	15-е изд., стер.	2023	13	\N	5
978-5-8114-9256-5	464	13-е изд., стер.	2022	14	\N	5
978-5-8114-9890-1	436	18-е изд., стер.	2022	16	\N	5
978-5-97060-956-9	518	\N	2023	17	\N	6
978-5-97060-957-6	618	\N	2022	18	\N	6
978-5-38-916728-5	768	\N	2019	1	8	3
978-5-38-907889-5	224	\N	2017	1	5	3
978-5-38-919361-1	944	\N	2021	3	5	3
978-5-38-919219-5	736	\N	2021	3	4	2
978-5-17-148844-4	320	\N	2022	4	2	1
978-5-04-122320-5	416	\N	2022	4	6	4
978-5-38-919109-9	352	\N	2022	4	5	3
\.


--
-- Data for Name: publishers; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.publishers (publisher_id, name, place_of_publication) FROM stdin;
1	АСТ	Москва
2	Иностранка	Москва
3	Азбука	Санкт-Петербург
4	Эксмо	Москва
5	Лань	Санкт-Петербург
6	ДМК Пресс	Москва
\.


--
-- Data for Name: reader_cards; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.reader_cards (card_id, passport_info, reader_name, phone_number, address, email) FROM stdin;
22	32 68 467090, выдан  ГУ МВД России по г. Воронежу, кп 863-477	Суслова Анна Егоровна	\N	Санкт-Петербург, Малая Конюшенная улица, дом 8	\N
23	32 10 276687, выдан  ГУ МВД России по г. Самаре, кп 524-189	Савина София Никитична	\N	Санкт-Петербург, Вознесенский проспект, дом 19	\N
24	05 27 395910, выдан  ГУ МВД России по г. Санкт-Петербургу, кп 162-634	Воробьев Игорь Александрович	\N	Санкт-Петербург, Литейный проспект, дом 30	\N
21	48 62 430654, выдан  ГУ МВД России по г. Самаре, кп 038-386	Бычкова Евгения Тимофеевна	+7 (838) 100-5499	Санкт-Петербург, Фонтанная улица, дом 12	\N
27	75 50 314527, выдан  ГУ МВД России по г. Саратову, кп 821-400	Попов Павел Степанович	+7 (996) 817-7556	Санкт-Петербург, Московский проспект, дом 22	\N
28	85 10 671342, выдан  ГУ МВД России по г. Уфе, кп 403-594	Гусева Ольга Вадимовна	8 719 914 0333	Санкт-Петербург, Бумажная улица, дом 11	\N
19	02 29 884486, выдан  ГУ МВД России по г. Красноярску, кп 473-273	Калинина Тамара Ивановна	\N	Санкт-Петербург, Приморский проспект, дом 15	ava.robinson@example.tech
20	17 23 794391, выдан  ГУ МВД России по Пермскому краю, кп 637-581	Кулаков Василий Александрович	\N	Санкт-Петербург, Греческий проспект, дом 3	liam.anderson@example.me
18	18 32 961530, выдан  ГУ МВД России по г. Ижевску, кп 275-291	Кудрявцева Ангелина Денисовна	\N	Санкт-Петербург, Большая Московская улица, дом 7	ethan.white@example.xyz
26	63 54 620160, выдан  ГУ МВД России по г. Санкт-Петербургу, кп 364-836	Попова Алиса Ибрагимовна	8(186)331-9318	Санкт-Петербург, Садовая улица, дом 18	\N
25	90 29 838404, выдан  ГУ МВД России по г. Красноярску, кп 679-719	Беляева Елизавета Алексеевна	8(892)514-0092	Санкт-Петербург, Большая Морская улица, дом 5	\N
17	15 82 674944, выдан  ГУ МВД России по г. Уфе, кп 822-191	Ефремов Арсений Степанович	8(396)973-1663 	Санкт-Петербург, Невский проспект, дом 25	sophia.miller@example.pro
16	60 13 099279, выдан  ГУ МВД России по г. Саратову, кп 088-049	Куприянов Александр Александрович	8 (656) 417-3354	Санкт-Петербург, улица Ленина, дом 10	max.jackson@example.biz
\.


--
-- Data for Name: receipt_acts; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.receipt_acts (receipt_act_id, source, act_date, employee_id, act_name, waybill_date, waybill_name) FROM stdin;
6	Покупка	2022-11-02	6	33-2022	2022-11-02	125
9	Покупка	2022-10-20	6	101-2022	2022-10-20	126/1
5	Покупка	2022-11-02	6	50-2022	2022-11-02	124
4	Обязательный экз.	2022-11-01	4	50-2022	2022-11-01	50.3
8	Обязательный экз.	2022-10-07	5	23-2022	2022-10-07	50.1
7	Обязательный экз.	2022-10-05	5	72-2022	2022-10-05	50.2
\.


--
-- Data for Name: receipts_content; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.receipts_content (content_id, isbn, num_of_copies, receipt_act, copy_price) FROM stdin;
6	978-5-17-065483-3	5	4	15000
7	978-5-17-080115-2	7	4	12000
8	978-5-17-137825-7	5	4	13000
10	978-5-38-904480-7	5	5	25000
11	978-5-38-912588-9	2	5	15000
12	978-5-38-903080-0	2	5	30000
13	978-5-04-116636-6	7	5	16000
20	978-5-38-916728-5	6	6	15000
24	978-5-17-148844-4	1	6	50000
26	978-5-38-919109-9	3	6	45000
18	978-5-97060-956-9	5	6	60000
19	978-5-97060-957-6	3	6	70000
29	978-5-97060-957-6	5	8	40000
31	978-5-38-912588-9	3	8	25000
22	978-5-38-919361-1	4	6	45000
23	978-5-38-919219-5	3	6	25000
27	978-5-97060-956-9	5	9	80000
25	978-5-04-122320-5	3	6	33000
17	978-5-8114-9890-1	3	7	15000
9	978-5-17-090332-0	2	4	20000
15	978-5-507-45877-6	5	7	22000
16	978-5-8114-9256-5	5	7	22000
30	978-5-17-148844-4	4	8	35000
21	978-5-38-907889-5	3	6	30000
14	978-5-17-158370-5	1	5	18000
28	978-5-97060-957-6	3	9	85000
32	978-5-38-903080-0	1	8	30000
\.


--
-- Data for Name: replacement_acts; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.replacement_acts (date, received_book, lost_book, employee, reader_card, act_id, act_name) FROM stdin;
2023-09-07	166	111	5	19	5	12-2023
2023-07-13	162	\N	6	21	2	13-2023
2023-07-13	163	\N	5	27	3	13-2023
2023-09-07	169	118	6	26	8	12-2023
2023-09-07	168	81	6	18	7	12-2023
2023-09-07	167	101	5	20	6	12-2023
2023-07-13	164	104	5	28	4	11-2023
\.


--
-- Data for Name: storage_location; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.storage_location (storage_id, room, shelving, shelf) FROM stdin;
1	Чит. зал 	1	1
2	Чит. зал 	1	2
3	Чит. зал 	1	3
5	Чит. зал 	2	1
6	Чит. зал 	2	2
7	Чит. зал 	2	3
11	Книгохранилище	1	1
12	Книгохранилище	1	2
13	Книгохранилище	1	3
14	Книгохранилище	1	4
15	Книгохранилище	1	5
16	Книгохранилище	2	1
17	Книгохранилище	2	2
18	Книгохранилище	2	3
19	Книгохранилище	2	4
20	Книгохранилище	2	5
\.


--
-- Data for Name: write_off_acts; Type: TABLE DATA; Schema: lab3; Owner: postgres
--

COPY lab3.write_off_acts (date, write_off_reason, direction_of_disposal, revaluation_ratio, employee_id, act_id) FROM stdin;
2023-07-13	Ветхость	Передача в пункт\nприема вторсырья	1.5	1	1
2023-09-07	Непрофильность	Передача в\nобменный фонд	1.75	2	2
2023-08-17	Непрофильность	Передача в\nобменный фонд	1.3	2	3
2023-07-30	Ветхость	Передача в пункт\nприема вторсырья	1.9	1	4
2023-09-13	Ветхость	Передача в пункт\nприема вторсырья	1.75	2	5
2023-10-11	Непрофильность	Передача в\nобменный фонд	1.5	1	6
2023-09-25	Ветхость	Передача в пункт\nприема вторсырья	1.3	2	7
\.


--
-- Name: authors_author_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.authors_author_id_seq', 19, true);


--
-- Name: authorship_authorship_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.authorship_authorship_id_seq', 19, true);


--
-- Name: book_lending_lending_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.book_lending_lending_id_seq', 26, true);


--
-- Name: books_book_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.books_book_id_seq', 18, true);


--
-- Name: copy_storage_copy_storage_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.copy_storage_copy_storage_id_seq', 146, true);


--
-- Name: employee_employee_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.employee_employee_id_seq', 8, true);


--
-- Name: library_cards_card_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.library_cards_card_id_seq', 28, true);


--
-- Name: publication_copies_inventory_number_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.publication_copies_inventory_number_seq', 172, true);


--
-- Name: publication_participant_participant_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.publication_participant_participant_id_seq', 28, true);


--
-- Name: publication_participation_participation_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.publication_participation_participation_id_seq', 40, true);


--
-- Name: publication_series_series_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.publication_series_series_id_seq', 8, true);


--
-- Name: publishers_publisher_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.publishers_publisher_id_seq', 6, true);


--
-- Name: receipt_acts_receipt_code_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.receipt_acts_receipt_code_seq', 9, true);


--
-- Name: receipts_content_content_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.receipts_content_content_id_seq', 32, true);


--
-- Name: replacement_acts_act_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.replacement_acts_act_id_seq', 8, true);


--
-- Name: storage_location_storage_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.storage_location_storage_id_seq', 30, true);


--
-- Name: write_off_acts_act_id_seq; Type: SEQUENCE SET; Schema: lab3; Owner: postgres
--

SELECT pg_catalog.setval('lab3.write_off_acts_act_id_seq', 7, true);


--
-- Name: authors authors_pkey; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.authors
    ADD CONSTRAINT authors_pkey PRIMARY KEY (author_id);


--
-- Name: authorships authorships_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.authorships
    ADD CONSTRAINT authorships_pk PRIMARY KEY (authorship_id);


--
-- Name: book_lending book_lending_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.book_lending
    ADD CONSTRAINT book_lending_pk PRIMARY KEY (lending_id);


--
-- Name: book_original_languages book_original_languages_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.book_original_languages
    ADD CONSTRAINT book_original_languages_pk PRIMARY KEY (lang_code);


--
-- Name: books books_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.books
    ADD CONSTRAINT books_pk PRIMARY KEY (book_id);


--
-- Name: copy_storage copy_storage_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.copy_storage
    ADD CONSTRAINT copy_storage_pk PRIMARY KEY (copy_storage_id);


--
-- Name: employees employee_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.employees
    ADD CONSTRAINT employee_pk PRIMARY KEY (employee_id);


--
-- Name: reader_cards library_cards_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.reader_cards
    ADD CONSTRAINT library_cards_pk PRIMARY KEY (card_id);


--
-- Name: publication_copies publication_copies_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publication_copies
    ADD CONSTRAINT publication_copies_pk PRIMARY KEY (inventory_number);


--
-- Name: publication_participants publication_participant_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publication_participants
    ADD CONSTRAINT publication_participant_pk PRIMARY KEY (participant_id);


--
-- Name: publication_participations publication_participations_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publication_participations
    ADD CONSTRAINT publication_participations_pk PRIMARY KEY (participation_id);


--
-- Name: publication_series publication_series_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publication_series
    ADD CONSTRAINT publication_series_pk PRIMARY KEY (series_id);


--
-- Name: publications publications_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publications
    ADD CONSTRAINT publications_pk PRIMARY KEY (isbn);


--
-- Name: receipt_acts publications_receipts_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.receipt_acts
    ADD CONSTRAINT publications_receipts_pk PRIMARY KEY (receipt_act_id);


--
-- Name: publishers publishers_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publishers
    ADD CONSTRAINT publishers_pk PRIMARY KEY (publisher_id);


--
-- Name: receipts_content receipts_content_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.receipts_content
    ADD CONSTRAINT receipts_content_pk PRIMARY KEY (content_id);


--
-- Name: replacement_acts replacement_acts_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.replacement_acts
    ADD CONSTRAINT replacement_acts_pk PRIMARY KEY (act_id);


--
-- Name: storage_location storage_location_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.storage_location
    ADD CONSTRAINT storage_location_pk PRIMARY KEY (storage_id);


--
-- Name: write_off_acts write_off_acts_pk; Type: CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.write_off_acts
    ADD CONSTRAINT write_off_acts_pk PRIMARY KEY (act_id);


--
-- Name: authorships authorship_authors_author_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.authorships
    ADD CONSTRAINT authorship_authors_author_id_fk FOREIGN KEY (author) REFERENCES lab3.authors(author_id);


--
-- Name: authorships authorship_books_book_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.authorships
    ADD CONSTRAINT authorship_books_book_id_fk FOREIGN KEY (book) REFERENCES lab3.books(book_id);


--
-- Name: book_lending book_lending_employee_employee_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.book_lending
    ADD CONSTRAINT book_lending_employee_employee_id_fk FOREIGN KEY (employee) REFERENCES lab3.employees(employee_id);


--
-- Name: book_lending book_lending_library_cards_card_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.book_lending
    ADD CONSTRAINT book_lending_library_cards_card_id_fk FOREIGN KEY (reader_card) REFERENCES lab3.reader_cards(card_id);


--
-- Name: book_lending book_lending_publication_copies_inventory_number_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.book_lending
    ADD CONSTRAINT book_lending_publication_copies_inventory_number_fk FOREIGN KEY (book) REFERENCES lab3.publication_copies(inventory_number);


--
-- Name: books books_book_original_languages_lang_code_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.books
    ADD CONSTRAINT books_book_original_languages_lang_code_fk FOREIGN KEY (original_language) REFERENCES lab3.book_original_languages(lang_code);


--
-- Name: copy_storage copy_storage_publication_copies_inventory_number_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.copy_storage
    ADD CONSTRAINT copy_storage_publication_copies_inventory_number_fk FOREIGN KEY (inventory_number) REFERENCES lab3.publication_copies(inventory_number);


--
-- Name: copy_storage copy_storage_storage_location_storage_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.copy_storage
    ADD CONSTRAINT copy_storage_storage_location_storage_id_fk FOREIGN KEY (storage_id) REFERENCES lab3.storage_location(storage_id);


--
-- Name: publication_copies publication_copies_publications_isbn_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publication_copies
    ADD CONSTRAINT publication_copies_publications_isbn_fk FOREIGN KEY (isbn) REFERENCES lab3.publications(isbn);


--
-- Name: publication_copies publication_copies_receipt_acts_receipt_code_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publication_copies
    ADD CONSTRAINT publication_copies_receipt_acts_receipt_code_fk FOREIGN KEY (receipt_act) REFERENCES lab3.receipt_acts(receipt_act_id);


--
-- Name: publication_copies publication_copies_write_off_acts_act_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publication_copies
    ADD CONSTRAINT publication_copies_write_off_acts_act_id_fk FOREIGN KEY (write_off_act) REFERENCES lab3.write_off_acts(act_id);


--
-- Name: publication_participations publication_participation_publication_participant_participant_i; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publication_participations
    ADD CONSTRAINT publication_participation_publication_participant_participant_i FOREIGN KEY (participant_id) REFERENCES lab3.publication_participants(participant_id);


--
-- Name: publication_participations publication_participations_publications_isbn_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publication_participations
    ADD CONSTRAINT publication_participations_publications_isbn_fk FOREIGN KEY (isbn) REFERENCES lab3.publications(isbn);


--
-- Name: publications publications_books_book_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publications
    ADD CONSTRAINT publications_books_book_id_fk FOREIGN KEY (book) REFERENCES lab3.books(book_id);


--
-- Name: publications publications_publication_series_series_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publications
    ADD CONSTRAINT publications_publication_series_series_id_fk FOREIGN KEY (series) REFERENCES lab3.publication_series(series_id);


--
-- Name: publications publications_publishers_publisher_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.publications
    ADD CONSTRAINT publications_publishers_publisher_id_fk FOREIGN KEY (publisher) REFERENCES lab3.publishers(publisher_id);


--
-- Name: receipt_acts publications_receipts_employee_employee_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.receipt_acts
    ADD CONSTRAINT publications_receipts_employee_employee_id_fk FOREIGN KEY (employee_id) REFERENCES lab3.employees(employee_id);


--
-- Name: receipts_content receipts_content_publications_isbn_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.receipts_content
    ADD CONSTRAINT receipts_content_publications_isbn_fk FOREIGN KEY (isbn) REFERENCES lab3.publications(isbn);


--
-- Name: receipts_content receipts_content_receipt_acts_receipt_act_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.receipts_content
    ADD CONSTRAINT receipts_content_receipt_acts_receipt_act_id_fk FOREIGN KEY (receipt_act) REFERENCES lab3.receipt_acts(receipt_act_id);


--
-- Name: replacement_acts replacement_acts_employee_employee_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.replacement_acts
    ADD CONSTRAINT replacement_acts_employee_employee_id_fk FOREIGN KEY (employee) REFERENCES lab3.employees(employee_id);


--
-- Name: replacement_acts replacement_acts_library_cards_card_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.replacement_acts
    ADD CONSTRAINT replacement_acts_library_cards_card_id_fk FOREIGN KEY (reader_card) REFERENCES lab3.reader_cards(card_id);


--
-- Name: replacement_acts replacement_acts_publication_copies_inventory_number_fk2; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.replacement_acts
    ADD CONSTRAINT replacement_acts_publication_copies_inventory_number_fk2 FOREIGN KEY (lost_book) REFERENCES lab3.publication_copies(inventory_number);


--
-- Name: write_off_acts write_off_acts_employee_employee_id_fk; Type: FK CONSTRAINT; Schema: lab3; Owner: postgres
--

ALTER TABLE ONLY lab3.write_off_acts
    ADD CONSTRAINT write_off_acts_employee_employee_id_fk FOREIGN KEY (employee_id) REFERENCES lab3.employees(employee_id);


--
-- PostgreSQL database dump complete
--

