--
-- PostgreSQL database dump
--

-- Dumped from database version 15.4
-- Dumped by pg_dump version 15.4

-- Started on 2023-10-23 09:01:02

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 217 (class 1259 OID 16439)
-- Name: Aircraft_model; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Aircraft_model" (
    model_number integer NOT NULL,
    type character varying(20) NOT NULL,
    number_of_seats integer NOT NULL,
    purpose character varying(50) NOT NULL,
    fuel_consumption integer DEFAULT 0,
    load_capacity integer DEFAULT 0
);


ALTER TABLE public."Aircraft_model" OWNER TO postgres;

--
-- TOC entry 215 (class 1259 OID 16428)
-- Name: Airline_employee; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Airline_employee" (
    employee_code integer NOT NULL,
    airline_name character varying(50) NOT NULL,
    fullname character varying(100) NOT NULL,
    flight_time_in_hours integer,
    post character varying(20) NOT NULL,
    phone_number bigint
);


ALTER TABLE public."Airline_employee" OWNER TO postgres;

--
-- TOC entry 232 (class 1259 OID 16578)
-- Name: Airline_employee_employee_code_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Airline_employee" ALTER COLUMN employee_code ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Airline_employee_employee_code_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 214 (class 1259 OID 16422)
-- Name: Airlline; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Airlline" (
    airline_name character varying(50) NOT NULL,
    owner character varying(50),
    number_of_employees integer NOT NULL
);


ALTER TABLE public."Airlline" OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 16462)
-- Name: Airport; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Airport" (
    airport_number integer NOT NULL,
    address character varying(50) NOT NULL,
    number_of_lanes integer DEFAULT 0,
    number_of_ladders integer DEFAULT 0,
    capacity_of_the_waiting_room integer DEFAULT 0,
    airport_name character varying(50) NOT NULL
);


ALTER TABLE public."Airport" OWNER TO postgres;

--
-- TOC entry 219 (class 1259 OID 16461)
-- Name: Airport_airport_number_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Airport" ALTER COLUMN airport_number ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."Airport_airport_number_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 228 (class 1259 OID 16509)
-- Name: Cashier; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Cashier" (
    service_number integer NOT NULL,
    fullname character varying(50) NOT NULL,
    phone_number bigint NOT NULL,
    post character varying(50) NOT NULL,
    cash_number integer NOT NULL
);


ALTER TABLE public."Cashier" OWNER TO postgres;

--
-- TOC entry 227 (class 1259 OID 16508)
-- Name: Cashier_service_number_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Cashier" ALTER COLUMN service_number ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Cashier_service_number_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 225 (class 1259 OID 16498)
-- Name: Client; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Client" (
    paper integer NOT NULL,
    fullname character varying(50) NOT NULL,
    phone_number bigint
);


ALTER TABLE public."Client" OWNER TO postgres;

--
-- TOC entry 231 (class 1259 OID 16568)
-- Name: Crew; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Crew" (
    crew_id integer NOT NULL,
    last_medical_examination date,
    position_in_flight character varying(30),
    flight_number integer NOT NULL,
    employee_code integer NOT NULL,
    airline_name character varying(50) NOT NULL
);


ALTER TABLE public."Crew" OWNER TO postgres;

--
-- TOC entry 230 (class 1259 OID 16567)
-- Name: Crew_crew_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Crew" ALTER COLUMN crew_id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Crew_crew_id_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 229 (class 1259 OID 16519)
-- Name: Flight; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Flight" (
    flight_number integer NOT NULL,
    "on-board_number" character varying(20) NOT NULL,
    schedule_id integer NOT NULL,
    departure_time date,
    arrival_time date,
    status character varying(20) NOT NULL
);


ALTER TABLE public."Flight" OWNER TO postgres;

--
-- TOC entry 235 (class 1259 OID 16611)
-- Name: Flight_flight_number_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Flight" ALTER COLUMN flight_number ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Flight_flight_number_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 218 (class 1259 OID 16446)
-- Name: Plane; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Plane" (
    "on-board_number" character varying(20) NOT NULL,
    airline_name character varying(50),
    date_of_last_repair date,
    production_date date,
    model_number integer
);


ALTER TABLE public."Plane" OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 16503)
-- Name: Sales_cash; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Sales_cash" (
    cash_number integer NOT NULL,
    cash_type character varying(20) NOT NULL,
    address character varying(50)
);


ALTER TABLE public."Sales_cash" OWNER TO postgres;

--
-- TOC entry 236 (class 1259 OID 16612)
-- Name: Sales_cash_cash_number_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Sales_cash" ALTER COLUMN cash_number ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Sales_cash_cash_number_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 222 (class 1259 OID 16471)
-- Name: Schedule; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Schedule" (
    schedule_id integer NOT NULL,
    in_flight_time integer DEFAULT 0 NOT NULL,
    departure_time time with time zone NOT NULL,
    arrival_time time with time zone NOT NULL,
    departure_airport_number integer NOT NULL,
    arrival_airpor_number integer NOT NULL
);


ALTER TABLE public."Schedule" OWNER TO postgres;

--
-- TOC entry 234 (class 1259 OID 16585)
-- Name: Ticket; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Ticket" (
    ticket_number integer NOT NULL,
    flight_number integer NOT NULL,
    schedule_id integer NOT NULL,
    paper integer NOT NULL,
    service_number integer NOT NULL,
    registration_status character varying(20) NOT NULL
);


ALTER TABLE public."Ticket" OWNER TO postgres;

--
-- TOC entry 233 (class 1259 OID 16584)
-- Name: Ticket_ticket_number_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Ticket" ALTER COLUMN ticket_number ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Ticket_ticket_number_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 224 (class 1259 OID 16483)
-- Name: Transit_boarding; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public."Transit_boarding" (
    "Transit_number" integer NOT NULL,
    schedule_id integer NOT NULL,
    departure_time time with time zone NOT NULL,
    arrival_time time with time zone NOT NULL,
    in_flight_time integer NOT NULL,
    departure_airport_number integer NOT NULL,
    arrival_airpor_number integer NOT NULL
);


ALTER TABLE public."Transit_boarding" OWNER TO postgres;

--
-- TOC entry 223 (class 1259 OID 16482)
-- Name: Transit_boarding_Transit_number_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Transit_boarding" ALTER COLUMN "Transit_number" ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public."Transit_boarding_Transit_number_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 216 (class 1259 OID 16438)
-- Name: aircraft_model_model_number_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Aircraft_model" ALTER COLUMN model_number ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.aircraft_model_model_number_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 16470)
-- Name: schedule_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public."Schedule" ALTER COLUMN schedule_id ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME public.schedule_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- TOC entry 3442 (class 0 OID 16439)
-- Dependencies: 217
-- Data for Name: Aircraft_model; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Aircraft_model" (model_number, type, number_of_seats, purpose, fuel_consumption, load_capacity) FROM stdin;
2	АН-225	35	Малый пассажирский	10	50
3	Су-76	80	Крупный пассажирский	13	45
4	Airbus A319	100	Многофункциональный	15	50
5	Heinkel He 111	34	Многофункциональный	21	150
6	Ту-4	156	Крупный пассажирский	15	95
\.


--
-- TOC entry 3440 (class 0 OID 16428)
-- Dependencies: 215
-- Data for Name: Airline_employee; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Airline_employee" (employee_code, airline_name, fullname, flight_time_in_hours, post, phone_number) FROM stdin;
1	Россия	Зубков Анатолий Иванович	150	Лётчик	89523456
3	S7 AIRLINES	Макаров Максим Максимович	60	Лётчик	\N
2	Аэрофлот	Беглов Андрей Сергеевич	0	Бортпроводник	26454408
4	Победа	Александров Александр Александрович	350	Лётчик	89135485654
\.


--
-- TOC entry 3439 (class 0 OID 16422)
-- Dependencies: 214
-- Data for Name: Airlline; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Airlline" (airline_name, owner, number_of_employees) FROM stdin;
Аэрофлот	Говорова Марина Михайловна	15403
Победа	Петухов Семён Алексеевич	9605
Уральские авиалинии	Владимир Владимирович Путин	13506
S7 AIRLINES	Байден Анатолий Сергеевич	21530
Россия	Петухов Семён Алексеевич	15403
\.


--
-- TOC entry 3445 (class 0 OID 16462)
-- Dependencies: 220
-- Data for Name: Airport; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Airport" (airport_number, address, number_of_lanes, number_of_ladders, capacity_of_the_waiting_room, airport_name) FROM stdin;
1	Г.Москва ул. Горьковская 16	4	6	354	Пулково
5	г. Красноярск ул. Красноярская 36	2	3	153	Шереметьево
6	г. Санкт-Петербург ул. Ленсовета 15	6	10	512	Внуково
7	г. Свердловск ул. Ленина 19	2	4	132	Свердловский аэропорт
8	г. Москва, Ленинградское шоссе 16	5	5	641	Ленинградский аэропорт
\.


--
-- TOC entry 3453 (class 0 OID 16509)
-- Dependencies: 228
-- Data for Name: Cashier; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Cashier" (service_number, fullname, phone_number, post, cash_number) FROM stdin;
1	Петухов Алексей Семёнович	89607592082	Младший кассир	3
2	Владимир Ильин	89135472021	Старший кассир	1
3	Куприн Сергей Миронович	89134832014	Младший кассир	4
4	Владимир Ильин	89135472021	Старший кассир	2
5	Орджоникидзе Сергей Геннадьевич	89134831437	Младший кассир	5
\.


--
-- TOC entry 3450 (class 0 OID 16498)
-- Dependencies: 225
-- Data for Name: Client; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Client" (paper, fullname, phone_number) FROM stdin;
417534486	Петухов Семён Алексеевич	89607592083
418348257	Говорова Марина Михайловна	\N
416347258	Иванов Иван Иванович	8800555555
437511273	Герасимов Гавриил Геннадьевич	\N
415647258	Пушкин Александр Сергеевич	\N
\.


--
-- TOC entry 3456 (class 0 OID 16568)
-- Dependencies: 231
-- Data for Name: Crew; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Crew" (crew_id, last_medical_examination, position_in_flight, flight_number, employee_code, airline_name) FROM stdin;
1	2023-10-21	Стюардесса	1	1	Россия
2	2023-05-17	Пилот	2	3	S7 AIRLINES
\.


--
-- TOC entry 3454 (class 0 OID 16519)
-- Dependencies: 229
-- Data for Name: Flight; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Flight" (flight_number, "on-board_number", schedule_id, departure_time, arrival_time, status) FROM stdin;
1	ПУ-205	4	2023-08-25	2023-08-25	Ожидание рейса
2	HE-1488	8	2023-07-03	2023-07-03	Ожидание рейса
3	ХК-504	7	2023-10-15	2023-10-16	Регистрация на рейс
4	ПД-3534	5	2023-03-29	2023-03-29	Регистрация на рейс
5	HE-1488	4	2023-03-17	2023-03-18	В процессе
\.


--
-- TOC entry 3443 (class 0 OID 16446)
-- Dependencies: 218
-- Data for Name: Plane; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Plane" ("on-board_number", airline_name, date_of_last_repair, production_date, model_number) FROM stdin;
ХК-504	Россия	2005-03-17	2004-03-17	2
ХК-505	Россия	2008-03-25	2007-03-25	3
HE-1488	Аэрофлот	2010-12-31	2009-03-29	5
ПУ-205	S7 AIRLINES	2005-05-15	2003-03-22	4
ПД-3534	Победа	2005-05-16	2000-10-10	4
\.


--
-- TOC entry 3451 (class 0 OID 16503)
-- Dependencies: 226
-- Data for Name: Sales_cash; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Sales_cash" (cash_number, cash_type, address) FROM stdin;
1	Онлайн-касса	\N
2	Онлайн-касса	\N
3	Оффлайн-касса	г.Красноярск ул. Паровозная 9
4	Оффлай-касса	г.Москва Ленинградское шоссе 19
5	Онлайн-касса	\N
\.


--
-- TOC entry 3447 (class 0 OID 16471)
-- Dependencies: 222
-- Data for Name: Schedule; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Schedule" (schedule_id, in_flight_time, departure_time, arrival_time, departure_airport_number, arrival_airpor_number) FROM stdin;
4	5	13:00:00+03	18:00:00+03	1	5
5	24	12:00:00+03	12:00:00+03	1	6
6	7	08:00:00+03	15:00:00+03	6	5
7	4	12:00:00+03	16:00:00+03	8	1
8	6	01:00:00+03	07:00:00+03	8	7
\.


--
-- TOC entry 3459 (class 0 OID 16585)
-- Dependencies: 234
-- Data for Name: Ticket; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Ticket" (ticket_number, flight_number, schedule_id, paper, service_number, registration_status) FROM stdin;
1	2	7	416347258	2	В обработке
2	1	4	415647258	1	Зарегистрирован
\.


--
-- TOC entry 3449 (class 0 OID 16483)
-- Dependencies: 224
-- Data for Name: Transit_boarding; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public."Transit_boarding" ("Transit_number", schedule_id, departure_time, arrival_time, in_flight_time, departure_airport_number, arrival_airpor_number) FROM stdin;
1	4	13:00:00+00	16:00:00+00	3	1	6
2	4	16:00:00+00	18:00:00+00	2	6	5
3	5	12:00:00+00	16:00:00+00	4	1	7
4	5	16:00:00+00	20:00:00+00	4	7	8
5	5	20:00:00+00	12:00:00+00	16	8	6
\.


--
-- TOC entry 3467 (class 0 OID 0)
-- Dependencies: 232
-- Name: Airline_employee_employee_code_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Airline_employee_employee_code_seq"', 4, true);


--
-- TOC entry 3468 (class 0 OID 0)
-- Dependencies: 219
-- Name: Airport_airport_number_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Airport_airport_number_seq"', 8, true);


--
-- TOC entry 3469 (class 0 OID 0)
-- Dependencies: 227
-- Name: Cashier_service_number_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Cashier_service_number_seq"', 5, true);


--
-- TOC entry 3470 (class 0 OID 0)
-- Dependencies: 230
-- Name: Crew_crew_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Crew_crew_id_seq"', 2, true);


--
-- TOC entry 3471 (class 0 OID 0)
-- Dependencies: 235
-- Name: Flight_flight_number_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Flight_flight_number_seq"', 5, true);


--
-- TOC entry 3472 (class 0 OID 0)
-- Dependencies: 236
-- Name: Sales_cash_cash_number_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Sales_cash_cash_number_seq"', 5, true);


--
-- TOC entry 3473 (class 0 OID 0)
-- Dependencies: 233
-- Name: Ticket_ticket_number_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Ticket_ticket_number_seq"', 2, true);


--
-- TOC entry 3474 (class 0 OID 0)
-- Dependencies: 223
-- Name: Transit_boarding_Transit_number_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public."Transit_boarding_Transit_number_seq"', 5, true);


--
-- TOC entry 3475 (class 0 OID 0)
-- Dependencies: 216
-- Name: aircraft_model_model_number_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.aircraft_model_model_number_seq', 9, true);


--
-- TOC entry 3476 (class 0 OID 0)
-- Dependencies: 221
-- Name: schedule_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.schedule_id_seq', 11, true);


--
-- TOC entry 3253 (class 2606 OID 16432)
-- Name: Airline_employee Airline_employees_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Airline_employee"
    ADD CONSTRAINT "Airline_employees_pkey" PRIMARY KEY (employee_code, airline_name);


--
-- TOC entry 3251 (class 2606 OID 16426)
-- Name: Airlline Airline_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Airlline"
    ADD CONSTRAINT "Airline_pkey" PRIMARY KEY (airline_name);


--
-- TOC entry 3261 (class 2606 OID 16469)
-- Name: Airport Airport_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Airport"
    ADD CONSTRAINT "Airport_pkey" PRIMARY KEY (airport_number);


--
-- TOC entry 3273 (class 2606 OID 16513)
-- Name: Cashier Cashier_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Cashier"
    ADD CONSTRAINT "Cashier_pkey" PRIMARY KEY (service_number);


--
-- TOC entry 3269 (class 2606 OID 16502)
-- Name: Client Client_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Client"
    ADD CONSTRAINT "Client_pkey" PRIMARY KEY (paper);


--
-- TOC entry 3277 (class 2606 OID 16572)
-- Name: Crew Crew_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Crew"
    ADD CONSTRAINT "Crew_pkey" PRIMARY KEY (crew_id);


--
-- TOC entry 3249 (class 2606 OID 16704)
-- Name: Flight Data_is_correct; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Flight"
    ADD CONSTRAINT "Data_is_correct" CHECK ((departure_time <= arrival_time)) NOT VALID;


--
-- TOC entry 3275 (class 2606 OID 16523)
-- Name: Flight Flight_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Flight"
    ADD CONSTRAINT "Flight_pkey" PRIMARY KEY (flight_number);


--
-- TOC entry 3259 (class 2606 OID 16450)
-- Name: Plane Plane_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Plane"
    ADD CONSTRAINT "Plane_pkey" PRIMARY KEY ("on-board_number");


--
-- TOC entry 3271 (class 2606 OID 16507)
-- Name: Sales_cash Sales_cash_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Sales_cash"
    ADD CONSTRAINT "Sales_cash_pkey" PRIMARY KEY (cash_number);


--
-- TOC entry 3279 (class 2606 OID 16589)
-- Name: Ticket Ticket_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Ticket"
    ADD CONSTRAINT "Ticket_pkey" PRIMARY KEY (ticket_number, flight_number);


--
-- TOC entry 3267 (class 2606 OID 16487)
-- Name: Transit_boarding Transit_boarding_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Transit_boarding"
    ADD CONSTRAINT "Transit_boarding_pkey" PRIMARY KEY ("Transit_number", schedule_id);


--
-- TOC entry 3255 (class 2606 OID 16445)
-- Name: Aircraft_model aircraft_model_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Aircraft_model"
    ADD CONSTRAINT aircraft_model_pkey PRIMARY KEY (model_number);


--
-- TOC entry 3263 (class 2606 OID 16700)
-- Name: Airport airport_name_is_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Airport"
    ADD CONSTRAINT airport_name_is_unique UNIQUE (airport_name);


--
-- TOC entry 3242 (class 2606 OID 16703)
-- Name: Airport capacity_of_the_waiting_room_not_negative; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Airport"
    ADD CONSTRAINT capacity_of_the_waiting_room_not_negative CHECK ((capacity_of_the_waiting_room >= 0)) NOT VALID;


--
-- TOC entry 3241 (class 2606 OID 16705)
-- Name: Plane data_is_correct; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Plane"
    ADD CONSTRAINT data_is_correct CHECK ((production_date <= date_of_last_repair)) NOT VALID;


--
-- TOC entry 3237 (class 2606 OID 16697)
-- Name: Airline_employee flight_time_in_hours_not_negative; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Airline_employee"
    ADD CONSTRAINT flight_time_in_hours_not_negative CHECK ((flight_time_in_hours >= 0)) NOT VALID;


--
-- TOC entry 3238 (class 2606 OID 16695)
-- Name: Aircraft_model fuel_consumption_not_negative; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Aircraft_model"
    ADD CONSTRAINT fuel_consumption_not_negative CHECK ((fuel_consumption >= 0)) NOT VALID;


--
-- TOC entry 3245 (class 2606 OID 16709)
-- Name: Schedule in_flight_time_not_negative; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Schedule"
    ADD CONSTRAINT in_flight_time_not_negative CHECK ((in_flight_time >= 0)) NOT VALID;


--
-- TOC entry 3247 (class 2606 OID 16711)
-- Name: Transit_boarding in_flight_time_not_negative; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Transit_boarding"
    ADD CONSTRAINT in_flight_time_not_negative CHECK ((in_flight_time >= 0)) NOT VALID;


--
-- TOC entry 3239 (class 2606 OID 16696)
-- Name: Aircraft_model load_capacity_not_negative; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Aircraft_model"
    ADD CONSTRAINT load_capacity_not_negative CHECK ((load_capacity >= 0)) NOT VALID;


--
-- TOC entry 3236 (class 2606 OID 16698)
-- Name: Airlline number_of_employees_not_negative; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Airlline"
    ADD CONSTRAINT number_of_employees_not_negative CHECK ((number_of_employees >= 0)) NOT VALID;


--
-- TOC entry 3243 (class 2606 OID 16702)
-- Name: Airport number_of_ladders_not_negative; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Airport"
    ADD CONSTRAINT number_of_ladders_not_negative CHECK ((number_of_ladders >= 0)) NOT VALID;


--
-- TOC entry 3244 (class 2606 OID 16701)
-- Name: Airport number_of_lanes_not_negative; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Airport"
    ADD CONSTRAINT number_of_lanes_not_negative CHECK ((number_of_lanes >= 0)) NOT VALID;


--
-- TOC entry 3240 (class 2606 OID 16694)
-- Name: Aircraft_model number_of_seats_not_negative; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Aircraft_model"
    ADD CONSTRAINT number_of_seats_not_negative CHECK ((number_of_seats >= 0)) NOT VALID;


--
-- TOC entry 3265 (class 2606 OID 16476)
-- Name: Schedule schedule_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Schedule"
    ADD CONSTRAINT schedule_pkey PRIMARY KEY (schedule_id);


--
-- TOC entry 3246 (class 2606 OID 16710)
-- Name: Schedule time_is_correct; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Schedule"
    ADD CONSTRAINT time_is_correct CHECK (((departure_time + (make_time(in_flight_time, 0, (0.0)::double precision))::interval) = arrival_time)) NOT VALID;


--
-- TOC entry 3248 (class 2606 OID 16712)
-- Name: Transit_boarding time_is_correct; Type: CHECK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE public."Transit_boarding"
    ADD CONSTRAINT time_is_correct CHECK (((departure_time + (make_time(in_flight_time, 0, (0.0)::double precision))::interval) = arrival_time)) NOT VALID;


--
-- TOC entry 3257 (class 2606 OID 16693)
-- Name: Aircraft_model type_unique; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Aircraft_model"
    ADD CONSTRAINT type_unique UNIQUE (type);


--
-- TOC entry 3280 (class 2606 OID 16433)
-- Name: Airline_employee airline_name_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Airline_employee"
    ADD CONSTRAINT airline_name_fkey FOREIGN KEY (airline_name) REFERENCES public."Airlline"(airline_name);


--
-- TOC entry 3281 (class 2606 OID 16451)
-- Name: Plane airline_name_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Plane"
    ADD CONSTRAINT airline_name_fkey FOREIGN KEY (airline_name) REFERENCES public."Airlline"(airline_name);


--
-- TOC entry 3291 (class 2606 OID 16579)
-- Name: Crew airline_name_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Crew"
    ADD CONSTRAINT airline_name_fkey FOREIGN KEY (airline_name, employee_code) REFERENCES public."Airline_employee"(airline_name, employee_code) NOT VALID;


--
-- TOC entry 3285 (class 2606 OID 16493)
-- Name: Transit_boarding airport_number_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Transit_boarding"
    ADD CONSTRAINT airport_number_fkey FOREIGN KEY (departure_airport_number) REFERENCES public."Airport"(airport_number);


--
-- TOC entry 3283 (class 2606 OID 16644)
-- Name: Schedule airport_number_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Schedule"
    ADD CONSTRAINT airport_number_fkey FOREIGN KEY (departure_airport_number) REFERENCES public."Airport"(airport_number) NOT VALID;


--
-- TOC entry 3284 (class 2606 OID 16649)
-- Name: Schedule airport_number_fkey2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Schedule"
    ADD CONSTRAINT airport_number_fkey2 FOREIGN KEY (arrival_airpor_number) REFERENCES public."Airport"(airport_number) NOT VALID;


--
-- TOC entry 3286 (class 2606 OID 16678)
-- Name: Transit_boarding airport_number_fkey2; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Transit_boarding"
    ADD CONSTRAINT airport_number_fkey2 FOREIGN KEY (arrival_airpor_number) REFERENCES public."Airport"(airport_number) NOT VALID;


--
-- TOC entry 3288 (class 2606 OID 16514)
-- Name: Cashier cash_number_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Cashier"
    ADD CONSTRAINT cash_number_fkey FOREIGN KEY (cash_number) REFERENCES public."Sales_cash"(cash_number);


--
-- TOC entry 3292 (class 2606 OID 16573)
-- Name: Crew flight_number_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Crew"
    ADD CONSTRAINT flight_number_fkey FOREIGN KEY (flight_number) REFERENCES public."Flight"(flight_number);


--
-- TOC entry 3293 (class 2606 OID 16590)
-- Name: Ticket flight_number_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Ticket"
    ADD CONSTRAINT flight_number_fkey FOREIGN KEY (flight_number) REFERENCES public."Flight"(flight_number);


--
-- TOC entry 3282 (class 2606 OID 16456)
-- Name: Plane model_number; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Plane"
    ADD CONSTRAINT model_number FOREIGN KEY (model_number) REFERENCES public."Aircraft_model"(model_number) NOT VALID;


--
-- TOC entry 3289 (class 2606 OID 16524)
-- Name: Flight on-board_number_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Flight"
    ADD CONSTRAINT "on-board_number_fkey" FOREIGN KEY ("on-board_number") REFERENCES public."Plane"("on-board_number");


--
-- TOC entry 3294 (class 2606 OID 16600)
-- Name: Ticket paper_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Ticket"
    ADD CONSTRAINT paper_fkey FOREIGN KEY (paper) REFERENCES public."Client"(paper);


--
-- TOC entry 3287 (class 2606 OID 16488)
-- Name: Transit_boarding schedule_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Transit_boarding"
    ADD CONSTRAINT schedule_id_fkey FOREIGN KEY (schedule_id) REFERENCES public."Schedule"(schedule_id);


--
-- TOC entry 3290 (class 2606 OID 16529)
-- Name: Flight schedule_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Flight"
    ADD CONSTRAINT schedule_id_fkey FOREIGN KEY (schedule_id) REFERENCES public."Schedule"(schedule_id);


--
-- TOC entry 3295 (class 2606 OID 16595)
-- Name: Ticket schedule_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Ticket"
    ADD CONSTRAINT schedule_id_fkey FOREIGN KEY (schedule_id) REFERENCES public."Schedule"(schedule_id);


--
-- TOC entry 3296 (class 2606 OID 16631)
-- Name: Ticket service_number_fkey; Type: FK CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public."Ticket"
    ADD CONSTRAINT service_number_fkey FOREIGN KEY (service_number) REFERENCES public."Cashier"(service_number) NOT VALID;


-- Completed on 2023-10-23 09:01:02

--
-- PostgreSQL database dump complete
--

