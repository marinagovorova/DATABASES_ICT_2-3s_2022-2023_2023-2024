--
-- PostgreSQL database dump
--

-- Dumped from database version 16.0
-- Dumped by pg_dump version 16.0

-- Started on 2023-10-27 18:52:15

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- TOC entry 6 (class 2615 OID 16398)
-- Name: schema; Type: SCHEMA; Schema: -; Owner: postgres
--

CREATE SCHEMA schema;


ALTER SCHEMA schema OWNER TO postgres;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- TOC entry 225 (class 1259 OID 16424)
-- Name: seat; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.seat (
    id_seat integer NOT NULL,
    number integer NOT NULL,
    "row" integer NOT NULL,
    status character varying(20),
    id_route integer,
    CONSTRAINT check_number CHECK ((number > 0)),
    CONSTRAINT check_row CHECK (("row" > 0)),
    CONSTRAINT check_status CHECK (((status)::text = ANY ((ARRAY['Available'::character varying, 'Booked'::character varying, 'Purchased'::character varying])::text[])))
);


ALTER TABLE schema.seat OWNER TO postgres;

--
-- TOC entry 224 (class 1259 OID 16423)
-- Name: Seat_id_seat_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.seat ALTER COLUMN id_seat ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME schema."Seat_id_seat_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 229 (class 1259 OID 16436)
-- Name: airport; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.airport (
    id_airport integer NOT NULL,
    name character varying(20) NOT NULL,
    country character varying(20) NOT NULL,
    city character varying(20) NOT NULL
);


ALTER TABLE schema.airport OWNER TO postgres;

--
-- TOC entry 228 (class 1259 OID 16435)
-- Name: airport_id_airport_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.airport ALTER COLUMN id_airport ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME schema.airport_id_airport_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 239 (class 1259 OID 16469)
-- Name: company; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.company (
    id_company integer NOT NULL,
    name character varying(20) NOT NULL,
    country character varying(20) NOT NULL
);


ALTER TABLE schema.company OWNER TO postgres;

--
-- TOC entry 238 (class 1259 OID 16468)
-- Name: company_id_company_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.company ALTER COLUMN id_company ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME schema.company_id_company_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 241 (class 1259 OID 16475)
-- Name: crew; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.crew (
    id_crew integer NOT NULL,
    allowance character varying(20) NOT NULL,
    "position" character varying(20),
    id_employee integer,
    id_route integer,
    CONSTRAINT check_allowance CHECK (((allowance)::text = ANY ((ARRAY['Yes'::character varying, 'No'::character varying])::text[])))
);


ALTER TABLE schema.crew OWNER TO postgres;

--
-- TOC entry 240 (class 1259 OID 16474)
-- Name: crew_id_crew_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.crew ALTER COLUMN id_crew ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME schema.crew_id_crew_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 227 (class 1259 OID 16430)
-- Name: employee; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.employee (
    id_employee integer NOT NULL,
    surname character varying(20) NOT NULL,
    name character varying(20) NOT NULL,
    patronymic character varying(20),
    passport_series integer NOT NULL,
    passport_number integer NOT NULL,
    passport_date date NOT NULL,
    passport_who_issued character varying(50) NOT NULL,
    id_company integer NOT NULL,
    "position" character varying(20),
    CONSTRAINT check_passport_number CHECK (((100000 <= passport_number) AND (passport_number <= 999999))),
    CONSTRAINT check_passport_series CHECK (((1000 <= passport_series) AND (passport_series <= 9999)))
);


ALTER TABLE schema.employee OWNER TO postgres;

--
-- TOC entry 226 (class 1259 OID 16429)
-- Name: employee_id_employee_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.employee ALTER COLUMN id_employee ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME schema.employee_id_employee_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 237 (class 1259 OID 16463)
-- Name: model; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.model (
    id_model integer NOT NULL,
    release_date date NOT NULL,
    fuel_rate integer NOT NULL,
    type_of_plane character varying(20) NOT NULL,
    speed integer NOT NULL,
    number_of_seats integer NOT NULL,
    country character varying(20) NOT NULL,
    producer character varying(20) NOT NULL,
    purpose character varying(20) NOT NULL,
    load_capacity integer NOT NULL,
    CONSTRAINT check_fuel_rate CHECK ((fuel_rate > 0)),
    CONSTRAINT check_load_capacity CHECK ((load_capacity > 0)),
    CONSTRAINT check_number_of_seats CHECK ((number_of_seats > 0)),
    CONSTRAINT check_speed CHECK ((speed > 0))
);


ALTER TABLE schema.model OWNER TO postgres;

--
-- TOC entry 236 (class 1259 OID 16462)
-- Name: model_id_model_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.model ALTER COLUMN id_model ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME schema.model_id_model_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 219 (class 1259 OID 16406)
-- Name: passenger; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.passenger (
    id_passenger integer NOT NULL,
    surname character varying(20) NOT NULL,
    name character varying(20) NOT NULL,
    patronymic character varying(20),
    passport_series integer NOT NULL,
    passport_number integer NOT NULL,
    passport_date date NOT NULL,
    passport_who_issued character varying(50) NOT NULL,
    CONSTRAINT check_passport_number CHECK (((100000 <= passport_number) AND (passport_number <= 999999))),
    CONSTRAINT check_passport_series CHECK (((1000 <= passport_series) AND (passport_series <= 9999)))
);


ALTER TABLE schema.passenger OWNER TO postgres;

--
-- TOC entry 218 (class 1259 OID 16405)
-- Name: passenger_id_passenger_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.passenger ALTER COLUMN id_passenger ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME schema.passenger_id_passenger_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 235 (class 1259 OID 16452)
-- Name: plane; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.plane (
    id_plane integer NOT NULL,
    tail_number character varying(20) NOT NULL,
    flight_hours integer NOT NULL,
    date_last_repair date NOT NULL,
    id_model integer NOT NULL,
    id_company integer NOT NULL,
    CONSTRAINT check_flight_hours CHECK ((flight_hours > 0))
);


ALTER TABLE schema.plane OWNER TO postgres;

--
-- TOC entry 234 (class 1259 OID 16451)
-- Name: plane_id_plane_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.plane ALTER COLUMN id_plane ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME schema.plane_id_plane_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 223 (class 1259 OID 16418)
-- Name: route; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.route (
    id_route integer NOT NULL,
    type character varying(20) NOT NULL,
    date_departure date NOT NULL,
    date_arrival date NOT NULL,
    id_schedule integer NOT NULL,
    id_plane integer NOT NULL,
    CONSTRAINT check_type CHECK (((type)::text = ANY ((ARRAY['Domestic'::character varying, 'International'::character varying])::text[])))
);


ALTER TABLE schema.route OWNER TO postgres;

--
-- TOC entry 222 (class 1259 OID 16417)
-- Name: route_id_route_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.route ALTER COLUMN id_route ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME schema.route_id_route_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 233 (class 1259 OID 16446)
-- Name: schedule; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.schedule (
    id_schedule integer NOT NULL,
    time_arrival time with time zone NOT NULL,
    time_departure time with time zone NOT NULL,
    regularity character varying(20) NOT NULL,
    id_airport_arrival integer NOT NULL,
    id_airport_departure integer NOT NULL
);


ALTER TABLE schema.schedule OWNER TO postgres;

--
-- TOC entry 232 (class 1259 OID 16445)
-- Name: schedule_id_schedule_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.schedule ALTER COLUMN id_schedule ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME schema.schedule_id_schedule_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 221 (class 1259 OID 16412)
-- Name: ticket; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.ticket (
    id_ticket integer NOT NULL,
    status character varying(20) NOT NULL,
    payment_status character varying(20) NOT NULL,
    service_class character varying(20) NOT NULL,
    baggage_insurance character varying(20) NOT NULL,
    baggage character varying(20) NOT NULL,
    id_ticket_office integer NOT NULL,
    id_passenger integer NOT NULL,
    id_seat integer NOT NULL,
    id_route integer NOT NULL,
    price real NOT NULL,
    CONSTRAINT check_baggage CHECK (((baggage)::text = ANY ((ARRAY['Yes'::character varying, 'No'::character varying])::text[]))),
    CONSTRAINT check_baggage_insuranve CHECK (((baggage_insurance)::text = ANY ((ARRAY['Yes'::character varying, 'No'::character varying])::text[]))),
    CONSTRAINT check_payment_status CHECK (((payment_status)::text = ANY ((ARRAY['Paid'::character varying, 'Not Paid'::character varying])::text[]))),
    CONSTRAINT check_price CHECK ((price > (0)::double precision)),
    CONSTRAINT check_service_class CHECK (((service_class)::text = ANY ((ARRAY['Business'::character varying, 'Economy'::character varying])::text[]))),
    CONSTRAINT check_status CHECK (((status)::text = ANY ((ARRAY['Purchased'::character varying, 'Available'::character varying, 'Booked'::character varying])::text[])))
);


ALTER TABLE schema.ticket OWNER TO postgres;

--
-- TOC entry 220 (class 1259 OID 16411)
-- Name: ticket_id_ticket_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.ticket ALTER COLUMN id_ticket ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME schema.ticket_id_ticket_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 217 (class 1259 OID 16400)
-- Name: ticket_office; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.ticket_office (
    id_ticket_office integer NOT NULL,
    city character varying(20) NOT NULL,
    address character varying(50) NOT NULL
);


ALTER TABLE schema.ticket_office OWNER TO postgres;

--
-- TOC entry 216 (class 1259 OID 16399)
-- Name: ticket_office_id_ticket_office_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.ticket_office ALTER COLUMN id_ticket_office ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME schema.ticket_office_id_ticket_office_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 231 (class 1259 OID 16442)
-- Name: transit; Type: TABLE; Schema: schema; Owner: postgres
--

CREATE TABLE schema.transit (
    id_transit integer NOT NULL,
    time_arrival time with time zone NOT NULL,
    time_departure time with time zone NOT NULL,
    id_schedule integer NOT NULL,
    id_airport integer NOT NULL,
    CONSTRAINT check_time CHECK ((time_departure > time_arrival))
);


ALTER TABLE schema.transit OWNER TO postgres;

--
-- TOC entry 230 (class 1259 OID 16441)
-- Name: transit_id_transit_seq; Type: SEQUENCE; Schema: schema; Owner: postgres
--

ALTER TABLE schema.transit ALTER COLUMN id_transit ADD GENERATED ALWAYS AS IDENTITY (
    SEQUENCE NAME schema.transit_id_transit_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    MAXVALUE 99999999
    CACHE 1
);


--
-- TOC entry 4917 (class 0 OID 16436)
-- Dependencies: 229
-- Data for Name: airport; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.airport (id_airport, name, country, city) FROM stdin;
1	Airport 1	Country 1	City 1
2	Airport 2	Country 2	City 2
3	Airport 3	Country 3	City 3
\.


--
-- TOC entry 4927 (class 0 OID 16469)
-- Dependencies: 239
-- Data for Name: company; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.company (id_company, name, country) FROM stdin;
1	Company 1	Country 1
2	Company 2	Country 2
3	Company 3	Country 3
\.


--
-- TOC entry 4929 (class 0 OID 16475)
-- Dependencies: 241
-- Data for Name: crew; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.crew (id_crew, allowance, "position", id_employee, id_route) FROM stdin;
1	Yes	pilot	2	1
2	Yes	steward	1	1
3	Yes	steward	3	1
\.


--
-- TOC entry 4915 (class 0 OID 16430)
-- Dependencies: 227
-- Data for Name: employee; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.employee (id_employee, surname, name, patronymic, passport_series, passport_number, passport_date, passport_who_issued, id_company, "position") FROM stdin;
1	Surname 1	Name 1	Patronymic 1	1234	566789	2023-01-01	Issuer 1	1	steward
2	Surname 2	Name 2	Patronymic 2	5678	987765	2023-02-01	Issuer 2	2	pilot
3	Surname 3	Name 3	Patronymic 3	4321	123455	2023-03-01	Issuer 3	3	steward
\.


--
-- TOC entry 4925 (class 0 OID 16463)
-- Dependencies: 237
-- Data for Name: model; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.model (id_model, release_date, fuel_rate, type_of_plane, speed, number_of_seats, country, producer, purpose, load_capacity) FROM stdin;
1	2020-01-01	500	Type 1	800	200	Country 1	Producer 1	Purpose 1	10000
2	2021-02-01	600	Type 2	900	250	Country 2	Producer 2	Purpose 2	12000
3	2022-03-01	700	Type 3	1000	300	Country 3	Producer 3	Purpose 3	15000
\.


--
-- TOC entry 4907 (class 0 OID 16406)
-- Dependencies: 219
-- Data for Name: passenger; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.passenger (id_passenger, surname, name, patronymic, passport_series, passport_number, passport_date, passport_who_issued) FROM stdin;
1	Surname 1	Name 1	Patronymic 1	1111	222222	2023-01-01	Issuer 1
2	Surname 2	Name 2	Patronymic 2	3333	444444	2023-02-01	Issuer 2
3	Surname 3	Name 3	Patronymic 3	5555	666666	2023-03-01	Issuer 3
\.


--
-- TOC entry 4923 (class 0 OID 16452)
-- Dependencies: 235
-- Data for Name: plane; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.plane (id_plane, tail_number, flight_hours, date_last_repair, id_model, id_company) FROM stdin;
1	AA001	1000	2023-01-01	1	1
2	BB002	2000	2023-02-01	2	2
\.


--
-- TOC entry 4911 (class 0 OID 16418)
-- Dependencies: 223
-- Data for Name: route; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.route (id_route, type, date_departure, date_arrival, id_schedule, id_plane) FROM stdin;
1	Domestic	2023-10-28	2023-10-28	1	1
2	International	2023-10-29	2023-10-29	2	2
3	Domestic	2023-10-30	2023-10-30	3	2
\.


--
-- TOC entry 4921 (class 0 OID 16446)
-- Dependencies: 233
-- Data for Name: schedule; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.schedule (id_schedule, time_arrival, time_departure, regularity, id_airport_arrival, id_airport_departure) FROM stdin;
1	09:30:00+03	08:00:00+03	Daily	1	2
2	11:30:00+03	10:00:00+03	Weekly	2	3
3	15:30:00+03	14:00:00+03	Monthly	1	3
\.


--
-- TOC entry 4913 (class 0 OID 16424)
-- Dependencies: 225
-- Data for Name: seat; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.seat (id_seat, number, "row", status, id_route) FROM stdin;
1	1	1	Available	1
2	2	1	Available	1
3	1	2	Booked	2
4	2	2	Available	2
\.


--
-- TOC entry 4909 (class 0 OID 16412)
-- Dependencies: 221
-- Data for Name: ticket; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.ticket (id_ticket, status, payment_status, service_class, baggage_insurance, baggage, id_ticket_office, id_passenger, id_seat, id_route, price) FROM stdin;
1	Purchased	Paid	Business	Yes	Yes	1	1	1	1	100
2	Purchased	Paid	Economy	No	No	1	1	2	1	50
3	Available	Not Paid	Business	Yes	Yes	2	3	3	3	150
\.


--
-- TOC entry 4905 (class 0 OID 16400)
-- Dependencies: 217
-- Data for Name: ticket_office; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.ticket_office (id_ticket_office, city, address) FROM stdin;
1	City 1	Address 1
2	City 2	Address 2
3	City 3	Address 3
\.


--
-- TOC entry 4919 (class 0 OID 16442)
-- Dependencies: 231
-- Data for Name: transit; Type: TABLE DATA; Schema: schema; Owner: postgres
--

COPY schema.transit (id_transit, time_arrival, time_departure, id_schedule, id_airport) FROM stdin;
1	08:30:00+03	09:00:00+03	1	1
2	10:30:00+03	11:00:00+03	2	2
3	14:30:00+03	15:00:00+03	3	3
\.


--
-- TOC entry 4935 (class 0 OID 0)
-- Dependencies: 224
-- Name: Seat_id_seat_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema."Seat_id_seat_seq"', 8, true);


--
-- TOC entry 4936 (class 0 OID 0)
-- Dependencies: 228
-- Name: airport_id_airport_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.airport_id_airport_seq', 36, true);


--
-- TOC entry 4937 (class 0 OID 0)
-- Dependencies: 238
-- Name: company_id_company_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.company_id_company_seq', 24, true);


--
-- TOC entry 4938 (class 0 OID 0)
-- Dependencies: 240
-- Name: crew_id_crew_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.crew_id_crew_seq', 15, true);


--
-- TOC entry 4939 (class 0 OID 0)
-- Dependencies: 226
-- Name: employee_id_employee_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.employee_id_employee_seq', 48, true);


--
-- TOC entry 4940 (class 0 OID 0)
-- Dependencies: 236
-- Name: model_id_model_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.model_id_model_seq', 6, true);


--
-- TOC entry 4941 (class 0 OID 0)
-- Dependencies: 218
-- Name: passenger_id_passenger_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.passenger_id_passenger_seq', 30, true);


--
-- TOC entry 4942 (class 0 OID 0)
-- Dependencies: 234
-- Name: plane_id_plane_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.plane_id_plane_seq', 14, true);


--
-- TOC entry 4943 (class 0 OID 0)
-- Dependencies: 222
-- Name: route_id_route_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.route_id_route_seq', 3, true);


--
-- TOC entry 4944 (class 0 OID 0)
-- Dependencies: 232
-- Name: schedule_id_schedule_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.schedule_id_schedule_seq', 12, true);


--
-- TOC entry 4945 (class 0 OID 0)
-- Dependencies: 220
-- Name: ticket_id_ticket_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.ticket_id_ticket_seq', 9, true);


--
-- TOC entry 4946 (class 0 OID 0)
-- Dependencies: 216
-- Name: ticket_office_id_ticket_office_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.ticket_office_id_ticket_office_seq', 3, true);


--
-- TOC entry 4947 (class 0 OID 0)
-- Dependencies: 230
-- Name: transit_id_transit_seq; Type: SEQUENCE SET; Schema: schema; Owner: postgres
--

SELECT pg_catalog.setval('schema.transit_id_transit_seq', 3, true);


--
-- TOC entry 4730 (class 2606 OID 16440)
-- Name: airport airport_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.airport
    ADD CONSTRAINT airport_pkey PRIMARY KEY (id_airport);


--
-- TOC entry 4710 (class 2606 OID 16937)
-- Name: schedule check_time; Type: CHECK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE schema.schedule
    ADD CONSTRAINT check_time CHECK ((time_arrival > time_departure)) NOT VALID;


--
-- TOC entry 4740 (class 2606 OID 16473)
-- Name: company company_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.company
    ADD CONSTRAINT company_pkey PRIMARY KEY (id_company);


--
-- TOC entry 4742 (class 2606 OID 16479)
-- Name: crew crew_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.crew
    ADD CONSTRAINT crew_pkey PRIMARY KEY (id_crew);


--
-- TOC entry 4728 (class 2606 OID 16434)
-- Name: employee employee_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.employee
    ADD CONSTRAINT employee_pkey PRIMARY KEY (id_employee);


--
-- TOC entry 4738 (class 2606 OID 16467)
-- Name: model model_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.model
    ADD CONSTRAINT model_pkey PRIMARY KEY (id_model);


--
-- TOC entry 4720 (class 2606 OID 16410)
-- Name: passenger passenger_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.passenger
    ADD CONSTRAINT passenger_pkey PRIMARY KEY (id_passenger);


--
-- TOC entry 4736 (class 2606 OID 16456)
-- Name: plane plane_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.plane
    ADD CONSTRAINT plane_pkey PRIMARY KEY (id_plane);


--
-- TOC entry 4724 (class 2606 OID 16422)
-- Name: route route_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.route
    ADD CONSTRAINT route_pkey PRIMARY KEY (id_route);


--
-- TOC entry 4734 (class 2606 OID 16450)
-- Name: schedule schedule_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.schedule
    ADD CONSTRAINT schedule_pkey PRIMARY KEY (id_schedule);


--
-- TOC entry 4726 (class 2606 OID 16428)
-- Name: seat seat_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.seat
    ADD CONSTRAINT seat_pkey PRIMARY KEY (id_seat);


--
-- TOC entry 4718 (class 2606 OID 16404)
-- Name: ticket_office ticket_office_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.ticket_office
    ADD CONSTRAINT ticket_office_pkey PRIMARY KEY (id_ticket_office);


--
-- TOC entry 4722 (class 2606 OID 16558)
-- Name: ticket ticket_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.ticket
    ADD CONSTRAINT ticket_pkey PRIMARY KEY (id_ticket);


--
-- TOC entry 4732 (class 2606 OID 16526)
-- Name: transit transit_pkey; Type: CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.transit
    ADD CONSTRAINT transit_pkey PRIMARY KEY (id_transit);


--
-- TOC entry 4743 (class 1259 OID 16914)
-- Name: fki_fk_employee; Type: INDEX; Schema: schema; Owner: postgres
--

CREATE INDEX fki_fk_employee ON schema.crew USING btree (id_employee);


--
-- TOC entry 4744 (class 1259 OID 16920)
-- Name: fki_fk_route; Type: INDEX; Schema: schema; Owner: postgres
--

CREATE INDEX fki_fk_route ON schema.crew USING btree (id_route);


--
-- TOC entry 4753 (class 2606 OID 16532)
-- Name: transit fk_airport; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.transit
    ADD CONSTRAINT fk_airport FOREIGN KEY (id_airport) REFERENCES schema.airport(id_airport);


--
-- TOC entry 4755 (class 2606 OID 16537)
-- Name: schedule fk_airport_arrival; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.schedule
    ADD CONSTRAINT fk_airport_arrival FOREIGN KEY (id_airport_arrival) REFERENCES schema.airport(id_airport);


--
-- TOC entry 4756 (class 2606 OID 16542)
-- Name: schedule fk_airport_departure; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.schedule
    ADD CONSTRAINT fk_airport_departure FOREIGN KEY (id_airport_departure) REFERENCES schema.airport(id_airport);


--
-- TOC entry 4752 (class 2606 OID 16520)
-- Name: employee fk_company; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.employee
    ADD CONSTRAINT fk_company FOREIGN KEY (id_company) REFERENCES schema.company(id_company);


--
-- TOC entry 4757 (class 2606 OID 16552)
-- Name: plane fk_company; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.plane
    ADD CONSTRAINT fk_company FOREIGN KEY (id_company) REFERENCES schema.company(id_company);


--
-- TOC entry 4759 (class 2606 OID 16909)
-- Name: crew fk_employee; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.crew
    ADD CONSTRAINT fk_employee FOREIGN KEY (id_employee) REFERENCES schema.employee(id_employee);


--
-- TOC entry 4758 (class 2606 OID 16547)
-- Name: plane fk_model; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.plane
    ADD CONSTRAINT fk_model FOREIGN KEY (id_model) REFERENCES schema.model(id_model);


--
-- TOC entry 4745 (class 2606 OID 16485)
-- Name: ticket fk_passenger; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.ticket
    ADD CONSTRAINT fk_passenger FOREIGN KEY (id_passenger) REFERENCES schema.passenger(id_passenger);


--
-- TOC entry 4749 (class 2606 OID 16510)
-- Name: route fk_plane; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.route
    ADD CONSTRAINT fk_plane FOREIGN KEY (id_plane) REFERENCES schema.plane(id_plane);


--
-- TOC entry 4751 (class 2606 OID 16457)
-- Name: seat fk_route; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.seat
    ADD CONSTRAINT fk_route FOREIGN KEY (id_route) REFERENCES schema.route(id_route);


--
-- TOC entry 4746 (class 2606 OID 16495)
-- Name: ticket fk_route; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.ticket
    ADD CONSTRAINT fk_route FOREIGN KEY (id_route) REFERENCES schema.route(id_route);


--
-- TOC entry 4760 (class 2606 OID 16915)
-- Name: crew fk_route; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.crew
    ADD CONSTRAINT fk_route FOREIGN KEY (id_route) REFERENCES schema.route(id_route);


--
-- TOC entry 4750 (class 2606 OID 16500)
-- Name: route fk_schedule; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.route
    ADD CONSTRAINT fk_schedule FOREIGN KEY (id_schedule) REFERENCES schema.schedule(id_schedule);


--
-- TOC entry 4754 (class 2606 OID 16527)
-- Name: transit fk_schedule; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.transit
    ADD CONSTRAINT fk_schedule FOREIGN KEY (id_schedule) REFERENCES schema.schedule(id_schedule);


--
-- TOC entry 4747 (class 2606 OID 16490)
-- Name: ticket fk_seat; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.ticket
    ADD CONSTRAINT fk_seat FOREIGN KEY (id_seat) REFERENCES schema.seat(id_seat);


--
-- TOC entry 4748 (class 2606 OID 16480)
-- Name: ticket fk_ticket_office; Type: FK CONSTRAINT; Schema: schema; Owner: postgres
--

ALTER TABLE ONLY schema.ticket
    ADD CONSTRAINT fk_ticket_office FOREIGN KEY (id_ticket_office) REFERENCES schema.ticket_office(id_ticket_office);


-- Completed on 2023-10-27 18:52:15

--
-- PostgreSQL database dump complete
--

